(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{42:function(e,t,n){"use strict";var a=n(40),s=n.n(a),r=n(41),c=n(44),i=n.n(c),o=n(8),l=i.a.create({timeout:2e4,headers:{Accept:"application/json","Content-Type":"application/json"}});l.interceptors.response.use((function(e){return e}),function(){var e=Object(r.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.response?alert("object"===typeof t.response.data?(null===(n=t.response.data)||void 0===n?void 0:n.error)||Object.entries(t.response.data).map((function(e,t){return t+1+". "+o.a.toCapitalize(e[0]+" "+e[1])})).join("\n"):t.response.data.trim()||t.response.statusText):console.error(t),e.abrupt("return",Promise.reject(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.a=l},43:function(e,t,n){"use strict";var a=n(40),s=n.n(a),r=n(41),c=n(44),i=n.n(c),o=n(8),l=i.a.create();l.interceptors.request.use(function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.headers={Authorization:"Bearer ".concat(o.a.getCookie("token")),Accept:"application/json","Content-Type":"application/json"},e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){return e}),function(){var e=Object(r.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.response&&440===t.response.status&&window.confirm(t.response.data)?(o.a.logout(),"/"!==window.location.pathname&&window.open("/")):t.response?alert("object"===typeof t.response.data?(null===(n=t.response.data)||void 0===n?void 0:n.error)||Object.entries(t.response.data).map((function(e,t){return t+1+". "+o.a.toCapitalize(e[0]+" "+e[1])})).join("\n"):t.response.data.trim()||t.response.statusText):console.error(t),e.abrupt("return",Promise.reject(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.a=l},47:function(e,t,n){"use strict";var a=n(6),s=n(42),r=n(43),c="".concat("https://xis16.herokuapp.com/","users/");t.a=new function e(){Object(a.a)(this,e),this.create=function(e){return s.a.post(c,e)},this.read=function(e){return s.a.get("".concat(c).concat(e))},this.update=function(e){return r.a.put("".concat(c).concat(e.id),e)},this.list=function(e){return r.a.get("".concat(c,"?name=").concat(e))}}},75:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var a=n(6),s=n(16),r=n(11),c=n(10),i=n(1),o=n(17),l=n(47),u=n(8),d=n(3),j=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){return r.setProfile()},r.setProfile=function(){var e,t;return l.a.read(null===(e=window.location.pathname)||void 0===e||null===(t=e.split("/"))||void 0===t?void 0:t[1]).then((function(e){return r.setState({name:u.a.getCookie("name"),surname:u.a.getCookie("surname")})||r.setState(e.data)}))},r.setValue=function(e){return r.setState(Object.fromEntries(new Map([[e.target.getAttribute("name"),e.target.value]])))},r.cancel=function(){return r.setProfile()&&r.setState({edit:!1})},r.submit=function(e){return e.preventDefault()||(r.state.edit?l.a.update(r.state).then((function(e){return r.setProfile()&&u.a.setCookie(e.data)&&window.location.reload()&&r.setState({edit:!1})})):r.setState({edit:!0}))},r.render=function(){var e,t;return Object(d.jsx)("main",{children:Object(d.jsx)("section",{className:"section-only",children:Object(d.jsx)("form",{className:"form-only",onSubmit:r.submit,children:Object(d.jsxs)("table",{className:"table table-bordered",children:[Object(d.jsxs)("thead",{children:[Object(d.jsx)("tr",{children:Object(d.jsx)("th",{className:"text-center",scope:"col",colSpan:2,children:"PROFILE"})}),Object(d.jsx)("tr",{children:Object(d.jsx)("th",{scope:"col",colSpan:2,children:Object(d.jsx)("div",{className:"container-only",children:Object(d.jsx)(o.a,{avatar:r.state.avatar,name:r.state.fullName,width:"200px",height:"200px",fontSize:"150px"})})})})]}),Object(d.jsxs)("tbody",{children:[r.state.edit&&Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"align-middle",scope:"row",children:"Avatar"}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"color",className:"form-control",name:"avatar",value:r.state.avatar,onChange:r.setValue})})]}),!r.state.edit&&Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"align-middle",scope:"row",children:"Full name"}),Object(d.jsx)("td",{children:r.state.fullName})]}),r.state.edit&&Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"align-middle",scope:"row",children:"Name"}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{className:"form-control",type:"text",name:"name",value:r.state.name,onChange:r.setValue})})]}),r.state.edit&&Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"align-middle",scope:"row",children:"Surname"}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{className:"form-control",type:"text",name:"surname",value:r.state.surname,onChange:r.setValue})})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"align-middle",scope:"row",children:"Email"}),Object(d.jsx)("td",{children:r.state.edit?Object(d.jsx)("input",{className:"form-control",type:"text",name:"email",value:r.state.email,onChange:r.setValue}):r.state.email})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"align-middle",scope:"row",children:"Date of birth"}),Object(d.jsx)("td",{children:r.state.edit?Object(d.jsx)("input",{className:"form-control",type:"date",name:"dob",value:r.state.dob,onChange:r.setValue}):new Date(r.state.dob).getMonth()+1+"/"+new Date(r.state.dob).getDate()+"/"+new Date(r.state.dob).getFullYear()})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"align-middle",scope:"row",children:"Sex"}),Object(d.jsx)("td",{children:r.state.edit?Object(d.jsxs)("select",{className:"form-select",name:"sex",value:r.state.sex,onChange:r.setValue,children:[Object(d.jsx)("option",{value:"Male",children:"Male"}),Object(d.jsx)("option",{value:"Female",children:"Female"}),Object(d.jsx)("option",{value:"Other",children:"Other"})]}):r.state.sex})]}),(null===(e=window.location.pathname)||void 0===e||null===(t=e.split("/"))||void 0===t?void 0:t[1])===u.a.getId()&&Object(d.jsx)("tr",{children:Object(d.jsx)("td",{colSpan:2,children:Object(d.jsxs)("div",{className:"container-only",children:[Object(d.jsx)("button",{className:"btn-profile text-".concat(r.state.edit?"warning":"info"),title:r.state.edit?"Save":"Edit",type:"submit",children:Object(d.jsx)("i",{className:"material-icons",children:r.state.edit?"save":"edit"})}),r.state.edit&&Object(d.jsx)("button",{className:"btn-profile text-danger",title:"Cancel",type:"button",onClick:r.cancel,children:Object(d.jsx)("i",{className:"material-icons",children:"cancel"})})]})})})]})]})})})})},r.setValue=r.setValue.bind(Object(s.a)(r)),r.state={id:"",avatar:"",fullName:"",email:"",sex:"",name:"",surname:"",edit:!1},r}return n}(i.Component)}}]);
//# sourceMappingURL=5.04ff9897.chunk.js.map