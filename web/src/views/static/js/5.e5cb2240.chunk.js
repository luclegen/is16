(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{42:function(e,t,n){"use strict";var a=n(40),s=n.n(a),r=n(41),c=n(44),i=n.n(c),o=n(8),l=i.a.create({timeout:2e4,headers:{Accept:"application/json","Content-Type":"application/json"}});l.interceptors.response.use((function(e){return e}),function(){var e=Object(r.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.response?alert("object"===typeof t.response.data?(null===(n=t.response.data)||void 0===n?void 0:n.error)||Object.entries(t.response.data).map((function(e,t){return t+1+". "+o.a.toCapitalize(e[0]+" "+e[1])})).join("\n"):t.response.data.trim()||t.response.statusText):console.error(t),e.abrupt("return",Promise.reject(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.a=l},43:function(e,t,n){"use strict";var a=n(40),s=n.n(a),r=n(41),c=n(44),i=n.n(c),o=n(8),l=i.a.create();l.interceptors.request.use(function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.headers={Authorization:"Bearer ".concat(o.a.getCookie("token")),Accept:"application/json","Content-Type":"application/json"},e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){return e}),function(){var e=Object(r.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.response&&440===t.response.status&&window.confirm(t.response.data)?(o.a.logout(),"/"!==window.location.pathname&&window.open("/")):t.response?alert("object"===typeof t.response.data?(null===(n=t.response.data)||void 0===n?void 0:n.error)||Object.entries(t.response.data).map((function(e,t){return t+1+". "+o.a.toCapitalize(e[0]+" "+e[1])})).join("\n"):t.response.data.trim()||t.response.statusText):console.error(t),e.abrupt("return",Promise.reject(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.a=l},47:function(e,t,n){"use strict";var a=n(6),s=n(42),r=n(43),c="".concat("https://xis16.herokuapp.com/","users/");t.a=new function e(){Object(a.a)(this,e),this.create=function(e){return s.a.post(c,e)},this.read=function(e){return s.a.get("".concat(c).concat(e))},this.update=function(e){return r.a.put("".concat(c).concat(e.id),e)},this.list=function(e){return r.a.get("".concat(c,"?name=").concat(e))}}},75:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var a=n(6),s=n(11),r=n(10),c=n(1),i=n(17),o=n(47),l=n(8),u=n(3),d=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){return s.setProfile()},s.setProfile=function(){var e,t;return o.a.read(null===(e=window.location.pathname)||void 0===e||null===(t=e.split("/"))||void 0===t?void 0:t[1]).then((function(e){return s.setState({name:l.a.getCookie("name"),surname:l.a.getCookie("surname")})||s.setState(e.data)}))},s.setValue=function(e){return s.setState(Object.fromEntries(new Map([[e.target.getAttribute("name"),e.target.value]])))},s.cancel=function(){return s.setProfile()&&s.setState({edit:!1})},s.submit=function(e){return e.preventDefault()||(s.state.edit?o.a.update(s.state).then((function(e){return s.setProfile()&&l.a.setCookie(e.data)&&window.location.reload()&&s.setState({edit:!1})})):s.setState({edit:!0}))},s.render=function(){return Object(u.jsx)("main",{children:Object(u.jsx)("section",{className:"section-only",children:Object(u.jsx)("form",{className:"form-only",onSubmit:s.submit,children:Object(u.jsxs)("table",{className:"table table-bordered",children:[Object(u.jsxs)("thead",{children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{className:"text-center",scope:"col",colSpan:2,children:"PROFILE"})}),Object(u.jsx)("tr",{children:Object(u.jsx)("th",{scope:"col",colSpan:2,children:Object(u.jsx)("div",{className:"container-only",children:Object(u.jsx)(i.a,{avatar:s.state.avatar,name:s.state.fullName,width:"200px",height:"200px",fontSize:"150px"})})})})]}),Object(u.jsxs)("tbody",{children:[s.state.edit&&Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"align-middle",scope:"row",children:"Avatar"}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"color",className:"form-control",name:"avatar",value:s.state.avatar,onChange:s.setValue})})]}),!s.state.edit&&Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"align-middle",scope:"row",children:"Full name"}),Object(u.jsx)("td",{children:s.state.fullName})]}),s.state.edit&&Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"align-middle",scope:"row",children:"Name"}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{className:"form-control",type:"text",name:"name",value:s.state.name,onChange:s.setValue})})]}),s.state.edit&&Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"align-middle",scope:"row",children:"Surname"}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{className:"form-control",type:"text",name:"surname",value:s.state.surname,onChange:s.setValue})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"align-middle",scope:"row",children:"Email"}),Object(u.jsx)("td",{children:s.state.edit?Object(u.jsx)("input",{className:"form-control",type:"text",name:"email",value:s.state.email,onChange:s.setValue}):s.state.email})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"align-middle",scope:"row",children:"Date of birth"}),Object(u.jsx)("td",{children:s.state.edit?Object(u.jsx)("input",{className:"form-control",type:"date",name:"dob",value:s.state.dob,onChange:s.setValue}):new Date(s.state.dob).getMonth()+1+"/"+new Date(s.state.dob).getDate()+"/"+new Date(s.state.dob).getFullYear()})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"align-middle",scope:"row",children:"Sex"}),Object(u.jsx)("td",{children:s.state.edit?Object(u.jsxs)("select",{className:"form-select",name:"sex",value:s.state.sex,onChange:s.setValue,children:[Object(u.jsx)("option",{value:"Male",children:"Male"}),Object(u.jsx)("option",{value:"Female",children:"Female"}),Object(u.jsx)("option",{value:"Other",children:"Other"})]}):s.state.sex})]}),Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:2,children:Object(u.jsxs)("div",{className:"container-only",children:[Object(u.jsx)("button",{className:"btn-profile text-".concat(s.state.edit?"warning":"info"),title:s.state.edit?"Save":"Edit",type:"submit",children:Object(u.jsx)("i",{className:"material-icons",children:s.state.edit?"save":"edit"})}),s.state.edit&&Object(u.jsx)("button",{className:"btn-profile text-danger",title:"Cancel",type:"button",onClick:s.cancel,children:Object(u.jsx)("i",{className:"material-icons",children:"cancel"})})]})})})]})]})})})})},s.state={id:"",avatar:"",fullName:"",email:"",sex:"",name:"",surname:"",edit:!1},s}return n}(c.Component)}}]);
//# sourceMappingURL=5.e5cb2240.chunk.js.map