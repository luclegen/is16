{"version":3,"sources":["app/apis/public.js","app/apis/private.js","app/services/users.js","app/components/user/Profile.jsx","../node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"names":["API","axios","create","timeout","headers","interceptors","response","use","res","err","a","alert","data","error","Object","entries","map","v","i","helper","toCapitalize","join","trim","statusText","console","Promise","reject","request","config","getCookie","status","window","confirm","logout","location","pathname","open","URL","process","user","PU","post","read","id","get","update","PR","put","list","name","Profile","props","componentDidMount","setProfile","usersService","split","then","setState","surname","setValue","e","obj","key","target","getAttribute","value","defineProperty","enumerable","configurable","writable","cancel","edit","submit","preventDefault","state","setCookie","reload","render","className","onSubmit","scope","colSpan","Avatar","avatar","fullName","width","height","fontSize","type","onChange","email","dob","Date","getMonth","getDate","getFullYear","sex","getId","title","onClick","bind","Component"],"mappings":"sJAGMA,EAAMC,IAAMC,OAAO,CACvBC,QAAS,IACTC,QAAS,CACP,OAAU,mBACV,eAAgB,sBAIpBJ,EAAIK,aAAaC,SAASC,KAAI,SAAAC,GAAG,OAAIA,IAArC,uCAA0C,WAAMC,GAAN,eAAAC,EAAA,6DACxCD,EAAIH,SACAK,MAAmC,kBAAtBF,EAAIH,SAASM,MACxB,UAAAH,EAAIH,SAASM,YAAb,eAAmBC,QAASC,OAAOC,QAAQN,EAAIH,SAASM,MAAMI,KAAI,SAACC,EAAGC,GAAJ,OAAWA,EAAI,EAAK,KAAOC,IAAOC,aAAaH,EAAE,GAAK,IAAMA,EAAE,OAAKI,KAAK,MAC1IZ,EAAIH,SAASM,KAAKU,QAAUb,EAAIH,SAASiB,YAC3CC,QAAQX,MAAMJ,GALsB,kBAMjCgB,QAAQC,OAAOjB,IANkB,2CAA1C,uDASeT,O,qFCjBTA,EAAMC,IAAMC,SAElBF,EAAIK,aAAasB,QAAQpB,IAAzB,uCACE,WAAMqB,GAAN,SAAAlB,EAAA,6DACEkB,EAAOxB,QAAU,CACf,cAAgB,UAAhB,OAA2Be,IAAOU,UAAU,UAC5C,OAAU,mBACV,eAAgB,oBAJpB,kBAMSD,GANT,2CADF,uDASE,SAAAnB,GAAG,OAAIgB,QAAQC,OAAOjB,MAGxBT,EAAIK,aAAaC,SAASC,KAAI,SAAAC,GAAG,OAAIA,IAArC,uCAA0C,WAAMC,GAAN,eAAAC,EAAA,6DACpCD,EAAIH,UAAoC,MAAxBG,EAAIH,SAASwB,QAAkBC,OAAOC,QAAQvB,EAAIH,SAASM,OAC7EO,IAAOc,SACsB,MAA7BF,OAAOG,SAASC,UAAoBJ,OAAOK,KAAK,MAC3C3B,EAAIH,SACPK,MAAmC,kBAAtBF,EAAIH,SAASM,MACxB,UAAAH,EAAIH,SAASM,YAAb,eAAmBC,QAASC,OAAOC,QAAQN,EAAIH,SAASM,MAAMI,KAAI,SAACC,EAAGC,GAAJ,OAAWA,EAAI,EAAK,KAAOC,IAAOC,aAAaH,EAAE,GAAK,IAAMA,EAAE,OAAKI,KAAK,MAC1IZ,EAAIH,SAASM,KAAKU,QAAUb,EAAIH,SAASiB,YAC3CC,QAAQX,MAAMJ,GARsB,kBASjCgB,QAAQC,OAAOjB,IATkB,2CAA1C,uDAYeT,O,2DC1BTqC,EAAG,UAAMC,+BAAN,UAYM,Q,sCATbpC,OAAS,SAAAqC,GAAI,OAAIC,IAAGC,KAAKJ,EAAKE,I,KAE9BG,KAAO,SAAAC,GAAE,OAAIH,IAAGI,IAAH,UAAUP,GAAV,OAAgBM,K,KAE7BE,OAAS,SAAAN,GAAI,OAAIO,IAAGC,IAAH,UAAUV,GAAV,OAAgBE,EAAKI,IAAMJ,I,KAE5CS,KAAO,SAAAC,GAAI,OAAIH,IAAGF,IAAH,UAAUP,EAAV,iBAAsBY,O,uJCPlBC,E,kDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAgBRC,kBAAoB,kBAAM,EAAKC,cAjBZ,EAmBnBA,WAAa,0BACXC,IACGZ,KADH,UACQX,OAAOG,SAASC,gBADxB,iBACQ,EAA0BoB,MAAM,YADxC,aACQ,EAAuC,IAC5CC,MAAK,SAAAhD,GAAG,OAAI,EAAKiD,SAAS,CAAER,KAAM9B,IAAOU,UAAU,QAAS6B,QAASvC,IAAOU,UAAU,cAAiB,EAAK4B,SAASjD,EAAII,UAtB3G,EAwBnB+C,SAAW,SAAAC,GAAC,OAAI,EAAKH,UC9BiBI,ED8BtB,GC9B2BC,ED8BVF,EAAEG,OAAOC,aAAa,QC9BPC,ED8BiBL,EAAEG,OAAOE,MC7BtEH,KAAOD,EACT/C,OAAOoD,eAAeL,EAAKC,EAAK,CAC9BG,MAAOA,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZR,EAAIC,GAAOG,EAGNJ,IAZM,IAAyBA,EAAKC,EAAKG,GDM7B,EA0BnBK,OAAS,kBAAM,EAAKjB,cAAgB,EAAKI,SAAS,CAAEc,MAAM,KA1BvC,EA4BnBC,OAAS,SAAAZ,GAAC,OACRA,EAAEa,mBACE,EAAKC,MAAMH,KACXjB,IACCT,OAAO,EAAK6B,OACZlB,MAAK,SAAAhD,GAAG,OAAI,EAAK6C,cAAgBlC,IAAOwD,UAAUnE,EAAII,OAASmB,OAAOG,SAAS0C,UAAY,EAAKnB,SAAS,CAAEc,MAAM,OAClH,EAAKd,SAAS,CAAEc,MAAM,MAlCT,EAoCnBM,OAAS,0BAAM,+BACb,yBAASC,UAAU,eAAnB,SACE,sBAAMA,UAAU,YAAYC,SAAU,EAAKP,OAA3C,SACE,wBAAOM,UAAU,uBAAjB,UACE,kCACE,6BACE,oBAAIA,UAAU,cAAcE,MAAM,MAAMC,QAAS,EAAjD,uBAIF,6BACE,oBAAID,MAAM,MAAMC,QAAS,EAAzB,SACE,qBAAKH,UAAU,iBAAf,SACE,cAACI,EAAA,EAAD,CAAQC,OAAQ,EAAKT,MAAMS,OAAQlC,KAAM,EAAKyB,MAAMU,SAAUC,MAAM,QAAQC,OAAO,QAAQC,SAAS,mBAK5G,kCACG,EAAKb,MAAMH,MAAQ,+BAClB,oBAAIO,UAAU,eAAeE,MAAM,MAAnC,oBACA,6BACE,uBAAOQ,KAAK,QAAQV,UAAU,eAAe7B,KAAK,SAASgB,MAAO,EAAKS,MAAMS,OAAQM,SAAU,EAAK9B,iBAGtG,EAAKe,MAAMH,MAAQ,+BACnB,oBAAIO,UAAU,eAAeE,MAAM,MAAnC,uBACA,6BAAK,EAAKN,MAAMU,cAEjB,EAAKV,MAAMH,MAAQ,+BAClB,oBAAIO,UAAU,eAAeE,MAAM,MAAnC,kBACA,6BACE,uBAAOF,UAAU,eAAeU,KAAK,OAAOvC,KAAK,OAAOgB,MAAO,EAAKS,MAAMzB,KAAMwC,SAAU,EAAK9B,gBAGlG,EAAKe,MAAMH,MAAQ,+BAClB,oBAAIO,UAAU,eAAeE,MAAM,MAAnC,qBACA,6BACE,uBAAOF,UAAU,eAAeU,KAAK,OAAOvC,KAAK,UAAUgB,MAAO,EAAKS,MAAMhB,QAAS+B,SAAU,EAAK9B,gBAGzG,+BACE,oBAAImB,UAAU,eAAeE,MAAM,MAAnC,mBACA,6BAAK,EAAKN,MAAMH,KAAO,uBAAOO,UAAU,eAAeU,KAAK,OAAOvC,KAAK,QAAQgB,MAAO,EAAKS,MAAMgB,MAAOD,SAAU,EAAK9B,WAAe,EAAKe,MAAMgB,WAEpJ,+BACE,oBAAIZ,UAAU,eAAeE,MAAM,MAAnC,2BACA,6BAAK,EAAKN,MAAMH,KAAO,uBAAOO,UAAU,eAAeU,KAAK,OAAOvC,KAAK,MAAMgB,MAAO,EAAKS,MAAMiB,IAAKF,SAAU,EAAK9B,WAAgB,IAAIiC,KAAK,EAAKlB,MAAMiB,KAAKE,WAAa,EAAK,IAAM,IAAID,KAAK,EAAKlB,MAAMiB,KAAKG,UAAY,IAAM,IAAIF,KAAK,EAAKlB,MAAMiB,KAAKI,mBAE3P,+BACE,oBAAIjB,UAAU,eAAeE,MAAM,MAAnC,iBACA,6BAAK,EAAKN,MAAMH,KAAO,yBAAQO,UAAU,cAAc7B,KAAK,MAAMgB,MAAO,EAAKS,MAAMsB,IAAKP,SAAU,EAAK9B,SAAjF,UACrB,wBAAQM,MAAM,OAAd,kBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,QAAd,sBACU,EAAKS,MAAMsB,UAExB,UAAAjE,OAAOG,SAASC,gBAAhB,mBAA0BoB,MAAM,YAAhC,eAAuC,MAAOpC,IAAO8E,SAAW,6BAC/D,oBAAIhB,QAAS,EAAb,SACE,sBAAKH,UAAU,iBAAf,UACE,wBAAQA,UAAS,2BAAsB,EAAKJ,MAAMH,KAAO,UAAY,QAAU2B,MAAO,EAAKxB,MAAMH,KAAO,OAAS,OAAQiB,KAAK,SAA9H,SAAuI,mBAAGV,UAAU,iBAAb,SAA+B,EAAKJ,MAAMH,KAAO,OAAS,WAChM,EAAKG,MAAMH,MAAQ,wBAAQO,UAAS,0BAA6BoB,MAAM,SAASV,KAAK,SAASW,QAAS,EAAK7B,OAAzF,SAAiG,mBAAGQ,UAAU,iBAAb,0CA9FnI,EAAKnB,SAAW,EAAKA,SAASyC,KAAd,gBAEhB,EAAK1B,MAAQ,CACX/B,GAAI,GACJwC,OAAQ,GACRC,SAAU,GACVM,MAAO,GACPM,IAAK,GACL/C,KAAM,GACNS,QAAS,GACTa,MAAM,GAbS,E,UADgB8B","file":"static/js/5.cae82ab9.chunk.js","sourcesContent":["import axios from 'axios'\nimport helper from '../services/helper'\n\nconst API = axios.create({\n  timeout: 20000,\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n  }\n})\n\nAPI.interceptors.response.use(res => res, async err => {\n  err.response\n    ? alert(typeof err.response.data === 'object'\n      ? err.response.data?.error || Object.entries(err.response.data).map((v, i) => (i + 1) + '. ' + helper.toCapitalize(v[0] + ' ' + v[1])).join('\\n')\n      : err.response.data.trim() || err.response.statusText)\n    : console.error(err)\n  return Promise.reject(err)\n})\n\nexport default API","import axios from 'axios'\nimport helper from '../services/helper'\n\nconst API = axios.create()\n\nAPI.interceptors.request.use(\n  async config => {\n    config.headers = {\n      'Authorization': `Bearer ${helper.getCookie('token')}`,\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n    return config\n  },\n  err => Promise.reject(err)\n)\n\nAPI.interceptors.response.use(res => res, async err => {\n  if (err.response && err.response.status === 440 && window.confirm(err.response.data)) {\n    helper.logout()\n    window.location.pathname !== '/' && window.open('/')\n  } else err.response\n    ? alert(typeof err.response.data === 'object'\n      ? err.response.data?.error || Object.entries(err.response.data).map((v, i) => (i + 1) + '. ' + helper.toCapitalize(v[0] + ' ' + v[1])).join('\\n')\n      : err.response.data.trim() || err.response.statusText)\n    : console.error(err)\n  return Promise.reject(err)\n})\n\nexport default API","import PU from '../apis/public'\nimport PR from '../apis/private'\n\nconst URL = `${process.env.REACT_APP_API}users/`\n\nclass usersService {\n  create = user => PU.post(URL, user)\n\n  read = id => PU.get(`${URL}${id}`)\n\n  update = user => PR.put(`${URL}${user.id}`, user)\n\n  list = name => PR.get(`${URL}?name=${name}`)\n}\n\nexport default new usersService()","import React, { Component } from 'react'\nimport Avatar from '../user/Avatar'\nimport usersService from '../../services/users'\nimport helper from '../../services/helper'\n\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props)\n\n    this.setValue = this.setValue.bind(this)\n\n    this.state = {\n      id: '',\n      avatar: '',\n      fullName: '',\n      email: '',\n      sex: '',\n      name: '',\n      surname: '',\n      edit: false,\n    }\n  }\n\n  componentDidMount = () => this.setProfile()\n\n  setProfile = () =>\n    usersService\n      .read(window.location.pathname?.split('/')?.[1])\n      .then(res => this.setState({ name: helper.getCookie('name'), surname: helper.getCookie('surname') }) || this.setState(res.data))\n\n  setValue = e => this.setState({ [e.target.getAttribute('name')]: e.target.value })\n\n  cancel = () => this.setProfile() && this.setState({ edit: false })\n\n  submit = e =>\n    e.preventDefault()\n    || (this.state.edit\n      ? usersService\n        .update(this.state)\n        .then(res => this.setProfile() && helper.setCookie(res.data) && window.location.reload() && this.setState({ edit: false }))\n      : this.setState({ edit: true }))\n\n  render = () => <main>\n    <section className=\"section-only\">\n      <form className=\"form-only\" onSubmit={this.submit}>\n        <table className=\"table table-bordered\">\n          <thead>\n            <tr>\n              <th className=\"text-center\" scope=\"col\" colSpan={2}>\n                PROFILE\n              </th>\n            </tr>\n            <tr>\n              <th scope=\"col\" colSpan={2}>\n                <div className=\"container-only\">\n                  <Avatar avatar={this.state.avatar} name={this.state.fullName} width=\"200px\" height=\"200px\" fontSize=\"150px\" />\n                </div>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.state.edit && <tr>\n              <th className=\"align-middle\" scope=\"row\">Avatar</th>\n              <td>\n                <input type=\"color\" className=\"form-control\" name=\"avatar\" value={this.state.avatar} onChange={this.setValue} />\n              </td>\n            </tr>}\n            {!this.state.edit && <tr>\n              <th className=\"align-middle\" scope=\"row\">Full name</th>\n              <td>{this.state.fullName}</td>\n            </tr>}\n            {this.state.edit && <tr>\n              <th className=\"align-middle\" scope=\"row\">Name</th>\n              <td>\n                <input className=\"form-control\" type=\"text\" name=\"name\" value={this.state.name} onChange={this.setValue} />\n              </td>\n            </tr>}\n            {this.state.edit && <tr>\n              <th className=\"align-middle\" scope=\"row\">Surname</th>\n              <td>\n                <input className=\"form-control\" type=\"text\" name=\"surname\" value={this.state.surname} onChange={this.setValue} />\n              </td>\n            </tr>}\n            <tr>\n              <th className=\"align-middle\" scope=\"row\">Email</th>\n              <td>{this.state.edit ? <input className=\"form-control\" type=\"text\" name=\"email\" value={this.state.email} onChange={this.setValue} /> : this.state.email}</td>\n            </tr>\n            <tr>\n              <th className=\"align-middle\" scope=\"row\">Date of birth</th>\n              <td>{this.state.edit ? <input className=\"form-control\" type=\"date\" name=\"dob\" value={this.state.dob} onChange={this.setValue} /> : (new Date(this.state.dob).getMonth() + 1) + '/' + new Date(this.state.dob).getDate() + '/' + new Date(this.state.dob).getFullYear()}</td>\n            </tr>\n            <tr>\n              <th className=\"align-middle\" scope=\"row\">Sex</th>\n              <td>{this.state.edit ? <select className=\"form-select\" name=\"sex\" value={this.state.sex} onChange={this.setValue}>\n                <option value=\"Male\">Male</option>\n                <option value=\"Female\">Female</option>\n                <option value=\"Other\">Other</option>\n              </select> : this.state.sex}</td>\n            </tr>\n            {window.location.pathname?.split('/')?.[1] === helper.getId() && <tr>\n              <td colSpan={2}>\n                <div className=\"container-only\">\n                  <button className={`btn-profile text-${this.state.edit ? 'warning' : 'info'}`} title={this.state.edit ? 'Save' : 'Edit'} type=\"submit\"><i className=\"material-icons\">{this.state.edit ? 'save' : 'edit'}</i></button>\n                  {this.state.edit && <button className={`btn-profile text-danger`} title=\"Cancel\" type=\"button\" onClick={this.cancel}><i className=\"material-icons\">cancel</i></button>}\n                </div>\n              </td>\n            </tr>}\n          </tbody>\n        </table>\n      </form>\n    </section>\n  </main>\n\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"sourceRoot":""}